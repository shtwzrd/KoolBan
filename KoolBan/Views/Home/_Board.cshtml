@using KoolBan.Models
<!-- ko with: dataModel -->
<div class="metro" style="margin: 0;">
    <div class="container">
        <div class="heading"><h1 data_bind="valueWithInit: 'projectId'">@Model.ProjectId</h1></div>
        <input id="projectId" value=@Model.ProjectId style="visibility: hidden"> <!--retrieved by the client-side viewmodel-->
        <div class="right">
            <button type="button" class="command-button success" data-wm-role="open">
                <i class="glyphicon glyphicon-edit"></i>
                Add another note
                <small> </small>
            </button>

            <button class="command-button warning">
                <i class="glyphicon glyphicon-cog"></i>
                Add a new column
                <small></small>
            </button>
        </div>
    </div>
</div>
<div class="jumbotron kanban" style="overflow-x: auto; width: 100%;">

    <!-- ko if: Loading() == false -->
    <div data-bind="template: { name: 'kanban-template', data: project }"></div>
    <!-- /ko -->
</div>

<script type="text/html" id="kanban-template">
    <table class="kanban-table">
        <thead>
            <tr>
                <!-- ko foreach: ColumnsOrdered() -->

                <th class="kanban columnhead">
                    <h3 class="kanban h3">
                        <span data-bind="text: ColumnName"></span>
                        <span data-bind="if: Capacity() > 0">
                            <small class="restriction">
                                [<!-- ko text: Notes().length --><!-- /ko -->/<span class="limit"><!-- ko text: Capacity() --><!-- /ko --></span>]
                            </small>
                        </span>
                    </h3>
                </th>
                <!-- /ko -->
            </tr>
        </thead>
        <tbody>
            <tr>
                <!-- ko foreach: ColumnsOrdered() -->

                <td class="kanban-table" data-bind="attr: { id: 'c' + ColumnId() }">
                    <div class="metro">
                        <!-- ko foreach: AutoSortedNotes -->
                        <div data-bind="css: NoteClass, attr: {'id' : 'n' + NoteId() }">
                            <p data-bind="text: Description"></p>
                            <div class="metro tile logo ol-transparent">
                                <span data-bind="css: NoteLogo()" style="font-family: 'Glyphicons Halflings'"></span>
                            </div>
                            <div class="metro tile config ol-transparent">
                                <a href="" class="glyphicon glyphicon-edit" style="font-family: 'Glyphicons Halflings'; color: #fff "></a>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </td>

                <!-- /ko -->
        </tbody>
    </table>

</script>
<!-- /ko -->

<!-- Edite Note Modal -->
<div class="win8modal" id="addNoteModal" tabindex="-1" role="dialog">
    <div class="metro">
        <div class="container">

            <form>
                <fieldset>
                    <legend>Add a note</legend>
                    <div class="input-control select">
                        <h5>Color</h5>
                        <select>
                            @foreach (NoteColor c in Enum.GetValues(typeof(NoteColor)))
                            {
                                <option style="color:#fff; background-color:@Note.NoteColorToHex(c)">@c.ToString()</option>
                            }
                        </select>
                    </div>

                    <h5>Logo</h5>
                    <div class="button-set" data-role="button-group" style="max-width: 300px;">
                        <button class="active" style="width:40px; height:26px"></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-music"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-search"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-envelope"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-heart"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-star"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-star-empty"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-user"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-film"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-ok"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-remove"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-signal"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-cog"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-trash"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-home"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-file"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-time"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-road"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-repeat"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-lock"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-flag"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-tag"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-tags"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-book"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-bookmark"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-print"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-camera"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-picture"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-pencil"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-adjust"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-edit"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-share"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-check"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-backward"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-plus-sign"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-minus-sign"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-remove-sign"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-ok-sign"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-question-sign"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-info-sign"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-asterisk"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-exclamation-sign"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-gift"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-fire"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-eye-open"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-eye-close"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-warning-sign"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-plane"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-calendar"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-random"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-comment"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-shopping-cart"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-bullhorn"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-bell"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-filter"></span></button>
                        <button><span style="font-family:Glyphicons Halflings;" class="glyphicon glyphicon-briefcase"></span></button>
                    </div>

                    <div class="input-control text" data-role="input-control" >
                        <h5>Text</h5>
                        <textarea placeholder="Explain the task" type="text" cols="50" rows="5"></textarea>
                    </div>


                    <div style="margin-top: 80px"></div>
                    <button class="metro modal-btn-violet" data-wm-role="close">Submit</button>
                    <button class="metro modal-btn" data-wm-role="close">Close</button>
                    <div style="margin-top: 20px">
                    </div>

                </fieldset>
            </form>

        </div>
    </div>
</div>
<div class='win8modal-cover'></div>